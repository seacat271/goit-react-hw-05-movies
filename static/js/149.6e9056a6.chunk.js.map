{"version":3,"file":"static/js/149.6e9056a6.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","components/SearchForm/SearchForm.styled.jsx","helpers/getData.jsx","helpers/useGetData.jsx","components/SearchForm/SearchForm.jsx","pages/Movies.jsx","pages/common.styled.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const MovieLink = styled(Link)`\ndisplay: flex;\nflex-direction: column;\nwidth: 270px;\ntext-decoration: none;\ncolor: black;\nfont-weight: 500;\nbackground-color: lightgrey;\nheight: 100%;\n&:not(:last-child) {\nmargin-bottom: 15px;\n}\n`\nexport const ShadowBox = styled.li`\nbox-shadow: 3px 3px 3px black;\n`\nexport const MovieLinkBox = styled.ul`\npadding: 20px 0;\ndisplay: flex;\ngap: 40px;\nflex-wrap: wrap;\nflex-basis: calc((100% - (3 * 40 )) / 4);\n`\nexport const Image = styled.img`\ndisplay: block;\n`\nexport const Thumb = styled.div`\npadding: 10px;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nflex-grow: 1;\n`","import { MovieLink, MovieLinkBox, Image, Thumb, ShadowBox} from \"./MovieList.styled\";\nimport { useLocation } from \"react-router-dom\";\nimport Placeholder from \"../../placeholders/placeholder_for_movie.jpg\";\nimport PropTypes from \"prop-types\";\n\nexport const MovieList = ({data}) => {\nconst location = useLocation()\nconst pathVar = location.pathname === \"/\" ? \"/movies/\" : \"\";\n\n    if(!data) return\n    return <><MovieLinkBox>\n        {data.results.map(({id, poster_path, title, release_date}) => {\n        const year = release_date ? release_date.slice(0, 4): null;\n        return <ShadowBox key = {id}><MovieLink \n        to={`${pathVar}${id}`} \n        state ={{from: location}}>\n            <Image \n            src = {\"https://image.tmdb.org/t/p/w500/\" + (poster_path ? poster_path : Placeholder)} \n            alt=\"movie poster\" \n            width=\"270\" \n            height=\"405\" \n            onError={({ currentTarget }) => {\n        currentTarget.onerror = null;\n        currentTarget.src=Placeholder;\n  }}/>\n            <Thumb><span>{title}</span><span>{year}</span></Thumb></MovieLink></ShadowBox>}\n        )}\n    </MovieLinkBox>\n    </>\n}\n\nMovieList.propTypes = {\n    data: PropTypes.shape({\n        results: PropTypes.arrayOf( PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            poster_path: PropTypes.string,\n            title: PropTypes.string.isRequired,\n            release_date: PropTypes.string,\n        }).isRequired\n        ).isRequired\n    })\n}","import styled from \"styled-components\";\n\nexport const SearchButton = styled.button`\nwidth: 100px;\nheight: 40px;\npadding: 0;\nborder: 3px solid black;\ndisplay: block;\nfont-weight: 500;\nfont-size: 20px;\nbackground-color: white;\ntransition: 250ms color linear, 250ms background-color linear, 250ms box-shadow linear, 50ms text-shadow linear;\nbox-shadow: 3px 3px 3px black;\ntext-shadow: 3px 3px 3px lightgrey;\n&:hover,\n&:focus {\n    color: white;\n    background-color: black;\n    box-shadow: none;\n    text-shadow: none;\n}\n`\nexport const Input = styled.input`\nbox-shadow: 3px 3px 3px black;\nmargin-right: 20px;\nwidth: 400px;\nheight: 40px;\npadding: 10px;\nborder: 3px solid black;\noutline: none;\nfont-weight: 500;\nfont-size: 20px;\nbox-sizing: border-box;\ndisplay: block;\ntransition: 250ms box-shadow linear;\n&:focus{\n    box-shadow: none;\n}\n`\nexport const Form = styled.form`\njustify-content: center;\ndisplay: flex;\n\n`","import axios from \"axios\";\n\nconst API_KEY = \"4e997d9f74601693c84e243277b61d66\";\naxios.defaults.baseURL =\"https://api.themoviedb.org/3\";\nconst requestConfig = {\n    params: {\n        api_key: API_KEY,\n        language: \"en-US\",\n    },\n};\n\nexport const getData = async (key, params) => {\n    function queryParams () { \n            switch (key) {\n        case \"trending\": \n            return `${key}/movie/${params}`;\n        case \"search\": \n            return `${key}/movie?query=${params}`;\n        case \"credits\": \n            return `movie/${params}/${key}`;\n        case \"reviews\": \n            return `movie/${params}/${key}`;\n        default:\n            return `movie/${params}`\n    }\n}\n\ntry {\n    const response = await axios.get(queryParams(), requestConfig);\n    return response.data\n} catch(error) { throw error.message}\n}\n\n    \n\n\n\n","import { useState, useEffect } from \"react\";\nimport { getData } from \"./getData\";\n\nexport const useGetData = (key, queryParams) => {\n    const [data, setData] = useState(null);\n    useEffect(()=>{\n    if (!queryParams) return\n        getData(key, queryParams)\n        .then(setData);\n    }, [key, queryParams])\n    return [data, setData]\n}\n\n\n","import { Input, SearchButton, Form} from \"./SearchForm.styled\";\nimport PropTypes from 'prop-types'\nexport const SearchForm = ({onHandleSubmit}) => {\n    return(\n        <>\n        <Form onSubmit={onHandleSubmit}>\n            <Input name=\"query\" autoComplete=\"off\"/>\n            <SearchButton type=\"submit\">Search</SearchButton>\n        </Form>\n   \n        </>\n    )\n}\n\nSearchForm.propTypes = {\n    onHandleSubmit: PropTypes.func.isRequired,\n}\n","import { useState, useEffect } from \"react\";\nimport {useSearchParams } from \"react-router-dom\";\nimport { useGetData } from \"helpers/useGetData\";\nimport { SearchForm } from \"components/SearchForm/SearchForm\";\nimport { MovieList } from \"components/MovieList/MovieList\";\nimport { Section } from \"./common.styled\";\nconst Movies = () => {\nconst [query, setQuery] = useState(\"\");\nconst [searchParams, setSearchParams] = useSearchParams();\nconst key = \"search\"\nconst [data] = useGetData(key, query);\n\nconst onHandleSubmit = event => {\n    event.preventDefault();\n    setQuery((event.target.query.value).trim().toLowerCase())\n    event.target.reset()\n}\n\nuseEffect(()=>{\n    if(query === \"\") return\n    setSearchParams(query !== \"\" ? {query: query} : {})\n     // eslint-disable-next-line \n}, [query])\n\nuseEffect(()=>{\n    searchParams.get(\"query\") && setQuery(searchParams.get(\"query\"))\n},[searchParams])\n\nreturn(\n    <Section>\n        <SearchForm onHandleSubmit ={onHandleSubmit}/>\n        <MovieList data={data}/>\n    </Section>\n)\n} \n\nexport default Movies;","import styled from \"styled-components\";\n\nexport const Section = styled.section`\n    width: 1200px;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 20px 15px;\n background-color: white;\n box-shadow: 0px 0px 3px 3px black;\n`"],"names":["MovieLink","styled","Link","ShadowBox","MovieLinkBox","Image","Thumb","MovieList","data","location","useLocation","pathVar","pathname","results","map","id","poster_path","title","release_date","year","slice","to","state","from","src","Placeholder","alt","width","height","onError","currentTarget","onerror","SearchButton","Input","Form","axios","requestConfig","params","api_key","language","getData","key","queryParams","response","message","useGetData","useState","setData","useEffect","then","SearchForm","onHandleSubmit","onSubmit","name","autoComplete","type","query","setQuery","useSearchParams","searchParams","setSearchParams","get","event","preventDefault","target","value","trim","toLowerCase","reset","Section"],"sourceRoot":""}